
@{
    ViewBag.Title = "AD_DoiMatKhau";
    Layout = "~/Views/Layout/Layout_Admin.cshtml";
    var a = ViewBag.tt;
}

<style type="text/css">
    #khung_pf {
        margin: 0 auto;
        border: 1px solid purple;
        border-radius: 10px;
        height: 380px;
        width: 700px;
    }

        #khung_pf:hover {
            margin: 0 auto;
            border: 2px solid purple;
            border-radius: 10px;
            height: 380px;
            width: 700px;
        }

    #khungl_pf {
        width: 350px;
        height: 400px;
        float: left;
    }

    #khungr_pf {
        width: 340px;
        height: 400px;
        float: left;
    }

    #khungimg_pf {
        height: 320px;
        width: 320px;
        border-radius: 50%;
        margin: 0 auto;
        box-shadow: 10px 0px 10px rgba(0, 0, 0, 0.3);
    }

    .anh_pf {
        height: 320px;
        width: 320px;
        border-radius: 50%;
    }

    #khungtai_pf {
        margin: 0 auto;
    }
</style>

<div id="khung_pf">
    <div id="khungl_pf">
        <div id="khungimg_pf">
            <img class="anh_pf" src="../../Content/Anh/logoForD.png">
        </div>
        <div id="khungtai_pf">


        </div>
    </div>
    <div id="khungr_pf">
        <form action="AD_DoiMatKhau" onsubmit="return validateForm();" enctype="multipart/form-data" method="post">
            <div class="mb-3 row">
                <div class="col-sm-10" style=" margin:0 auto">
                    <label for="inputPassword" class="col-sm-2 col-form-label" style="width: 340px;">Tài Khoản</label>
                    <input name="tk" class="form-control form-control-sm" type="text" value="@a.TenDangNhap" aria-label=".form-control-sm example" style="border:1px solid;border-radius:5px" readonly>
                </div>
                <div class="col-sm-10" style=" margin:0 auto">
                    <label for="inputPassword" class="col-sm-2 col-form-label" style="width: 340px;">Mật Khẩu Củ</label>
                    <input name="mkc" class="form-control form-control-sm" type="password" aria-label=".form-control-sm example" style="border:1px solid;border-radius:5px">
                </div>
                <div class="col-sm-10" style=" margin:0 auto">
                    <label for="inputPassword" class="col-sm-2 col-form-label" style="width: 340px;">Mật Khẩu Mới</label>
                    <input name="mkm" class="form-control form-control-sm" type="password" aria-label=".form-control-sm example" style="border:1px solid;border-radius:5px">
                    @*<b id="tbmkm"></b>*@
                </div>
                <div class="col-sm-10" style=" margin:0 auto">
                    <label for="inputPassword" class="col-sm-2 col-form-label" style="width: 340px;">Xác Nhận Mật Khẩu</label>
                    <input name="xnmkm" class="form-control form-control-sm" type="password" aria-label=".form-control-sm example" style="border:1px solid;border-radius:5px">
                    @*<b id="tbxn"></b>*@
                </div>
                <div style="text-align:center">
                    <b id="tbxn" style="color:red">@ViewBag.tb</b>

                </div>
                <div style="text-align:center">
                    <button style="margin-top: 13px;" type="submit" class=" btn btn-primary">Đổi Mật Khẩu</button>
                </div>
            </div>
        </form>
    </div>
</div>

<script>
    function validateForm() {
        var mkc = document.forms[0]["mkc"].value;
        var mkm = document.forms[0]["mkm"].value;
        var xnmkm = document.forms[0]["xnmkm"].value;

        // Kiểm tra mật khẩu mới có ít nhất 6 kí tự
        if (mkm.length < 6) {
            document.getElementById("tbxn").innerHTML = "Mật khẩu mới phải có ít nhất 6 kí tự.";
            return false;
        }

        // Kiểm tra xác nhận mật khẩu
        if (mkm !== xnmkm) {
            document.getElementById("tbxn").innerHTML = "Xác nhận mật khẩu không khớp.";
            return false;
        }

        // Nếu tất cả đều đúng, cho phép gửi form
        return true;
    }
</script>